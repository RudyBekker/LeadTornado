!function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){"use strict";var _PageValidator2=_interopRequireDefault(require("./validators/PageValidator"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_interopRequireDefault(require("./transport/Messenger")).default.waitForBackgroundMessage(function(request,sender,response){console.log("contentscript"),console.log("received request",request),"check-page-valid"===request.action&&(_PageValidator2.default.reset(),_PageValidator2.default.init(response))})},{"./transport/Messenger":2,"./validators/PageValidator":4}],2:[function(require,module,exports){"use strict";var obj,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_ext=require("../utils/ext"),_ext2=(obj=_ext)&&obj.__esModule?obj:{default:obj};var Messenger=function(){function Messenger(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Messenger)}return _createClass(Messenger,[{key:"sendToActiveTab",value:function(request,cb){_ext2.default.tabs.query({active:!0,currentWindow:!0},function(tabs){_ext2.default.tabs.sendMessage(tabs[0].id,request,function(evt){null!=cb&&null!=cb&&cb(evt)})})}},{key:"reloadActiveTab",value:function(cb){_ext2.default.tabs.query({active:!0,currentWindow:!0},function(tabs){_ext2.default.tabs.executeScript(tabs[0].id,{code:"window.location.reload();"},function(evt){null!=cb&&null!=cb&&cb(evt)})})}},{key:"sendToBackground",value:function(request,cb){_ext2.default.runtime.sendMessage(request,function(response){null!=cb&&null!=cb&&cb(response)})}},{key:"sendToPopup",value:function(request,cb){_ext2.default.runtime.sendMessage(request,function(response){null!=cb&&null!=cb&&cb(response)})}},{key:"waitForBackgroundMessage",value:function(cb){_ext2.default.runtime.onMessage.addListener(function(request,sender,response){0<=window.location.toString().indexOf("facebook.com")?request.isFacebook=1:request.isFacebook=0,null!=cb&&null!=cb&&cb(request,sender,response)})}}]),Messenger}();module.exports=new Messenger},{"../utils/ext":3}],3:[function(require,module,exports){"use strict";var apis=["alarms","bookmarks","browserAction","commands","contextMenus","cookies","downloads","events","extension","extensionTypes","history","i18n","idle","notifications","pageAction","runtime","storage","tabs","webNavigation","webRequest","windows"];module.exports=new function(){var _this=this;apis.forEach(function(api){_this[api]=null;try{chrome[api]&&(_this[api]=chrome[api])}catch(e){}try{window[api]&&(_this[api]=window[api])}catch(e){}try{browser[api]&&(_this[api]=browser[api])}catch(e){}try{_this.api=browser.extension[api]}catch(e){}});try{browser&&browser.runtime&&(this.runtime=browser.runtime)}catch(e){}try{browser&&browser.browserAction&&(this.browserAction=browser.browserAction)}catch(e){}}},{}],4:[function(require,module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var PageValidator=function(){function PageValidator(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PageValidator)}return _createClass(PageValidator,[{key:"getPageData",value:function(){return{canShow:this.canShow,pageType:this.pageType,pageUrl:window.location.toString()}}},{key:"reset",value:function(){this.canShow=!1}},{key:"checkForFacebook",value:function(){var result=0<=window.location.toString().indexOf("facebook.com");return this.canShow=(result&&(this.pageType="Facebook"),!0),result}},{key:"init",value:function(sendResponse){this.checkForFacebook();sendResponse(this.getPageData())}}]),PageValidator}();module.exports=new PageValidator},{}]},{},[1]);